<!DOCTYPE html>
<html>
<head>
    <title>OfekTweeter | Users</title>
</head>
<body>
<doctype html>
    <link rel="stylesheet" href="css/main.css">
    <link href="css/bootstrap.css" rel="stylesheet">
    <link href="css/style.css">
    <header>
        <div class="navbar navbar-default navbar-inverse navbar-fixed-top" role="navigation">
            <div class="container">
                <div class="navbar-header">
                    <a class="navbar-brand" href="index.html">
                        <img href="index.html" class="image-logo" src="images\OfekUnit.png">
                        OfekTwitter
                    </a>
                </div>
                <nav>
                    <ul class="nav navbar-nav navbar-right">
                        <li>
                            <a href="users.html">Users</a>
                        </li>
                        <li>
                            <a href="sign_up.html">Sign up</a>
                        </li>
                        <li>
                            <a href="sign_in.html">Sign in</a>
                        </li>
                    </ul>
                </nav>
            </div>
        </div>
    </header>
    <br><br><br>
    <div class="container">
        <form role="form">
            <div class="col-sm-3">
                <div class="form-group">
                    <input type="text" id="user-filter-input" class="form-control" placeholder="filter by user name"
                           onkeyup="filterByUsername()" title="Type in a name">
                </div>
            </div>

            <button class="btn btn-primary">ok</button>
        </form>
    </div>
    <div class="container" id="users-list">
        <div class="row">
            <div class="col-sm-10" id="user-cells">
                <div class="col-sm-2 user-cell">
                    <div class="thumbnail">
                        <img src="images/useravatar.jpg" class="useravatar">
                        <div class="caption text-center">
                            <button onclick="toggleButton()" class="btn btn-primary">follow</button>
                            <p class="user-cell-name">Marty McFly</p>
                        </div>
                    </div>
                </div>
                <div class="col-sm-2 user-cell">
                    <div class="thumbnail">
                        <img src="images/useravatar.jpg" class="useravatar">
                        <div class="caption text-center">
                            <button class="btn btn-primary">follow</button>
                            <p class="user-cell-name">Jains Joplin</p>
                        </div>
                    </div>
                </div>
                <div class="col-sm-2 user-cell">
                    <div class="thumbnail">
                        <img src="images/useravatar.jpg" class="useravatar">
                        <div class="caption text-center">
                            <button class="btn btn-primary">follow</button>
                            <p class="user-cell-name">Albert Einstein</p>
                        </div>
                    </div>
                </div>
                <div class="col-sm-2 user-cell">
                    <div class="thumbnail">
                        <img src="images/useravatar.jpg" class="useravatar">
                        <div class="caption text-center">
                            <button class="btn btn-primary">follow</button>
                            <p class="user-cell-name">Genfhis Khan</p>
                        </div>
                    </div>
                </div>
                <div class="col-sm-2 user-cell">
                    <div class="thumbnail">
                        <img src="images/useravatar.jpg" class="useravatar">
                        <div class="caption text-center">
                            <button class="btn btn-primary">unfollow</button>
                            <p class="user-cell-name">Dracula</p>
                        </div>
                    </div>
                </div>
                <div class="col-sm-2 user-cell">
                    <div class="thumbnail">
                        <img src="images/useravatar.jpg" class="useravatar">
                        <div class="caption text-center">
                            <button class="btn btn-primary">follow</button>
                            <p class="user-cell-name">Forset Gump</p>
                        </div>
                    </div>
                </div>
                <div class="col-sm-2 user-cell">
                    <div class="thumbnail">
                        <img src="images/useravatar.jpg" class="useravatar">
                        <div class="caption text-center">
                            <button class="btn btn-primary">follow</button>
                            <p class="user-cell-name">Cligula</p>
                        </div>
                    </div>
                </div>
                <div class="col-sm-2 user-cell">
                    <div class="thumbnail">
                        <img src="images/useravatar.jpg" class="useravatar">
                        <div class="caption text-center">
                            <button class="btn btn-primary">follow</button>
                            <p class="user-cell-name">Winnie the Pooh</p>
                        </div>
                    </div>
                </div>
                <div class="col-sm-2 user-cell">
                    <div class="thumbnail">
                        <img src="images/useravatar.jpg" class="useravatar">
                        <div class="caption text-center">
                            <button class="btn btn-primary">follow</button>
                            <p class="user-cell-name">Obama</p>
                        </div>
                    </div>
                </div>
                <div class="col-sm-2 user-cell">
                    <div class="thumbnail">
                        <img src="images/useravatar.jpg" class="useravatar">
                        <div class="caption text-center">
                            <button class="btn btn-primary">unfollow</button>
                            <p class="user-cell-name">Henry th 8th</p>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-sm-2 followees-list">
                <h2>Followees</h2>
                <div class="col-sm-12 followee-Cell">
                    <div class="thumbnail">
                        <img src="images/useravatar.jpg" class="useravatar">
                        <div class="caption text-center">
                            <button class="btn btn-primary">unfollow</button>
                            <p class="user-cell-name">Dracula</p>
                        </div>
                    </div>
                </div>
                <div class="col-sm-12 followee-Cell">
                    <div class="thumbnail">
                        <img src="images/useravatar.jpg" class="useravatar">
                        <div class="caption text-center">
                            <button class="btn btn-primary">unfollow</button>
                            <p class="user-cell-name">Henry the 8th</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

    </div>

</doctype>
<script src="js\filters.js"></script>
<script>


    var usersList = ["Marty McFly",
        "Jains Joplin",
        "Albert Einstein",
        "Genfhis Khan",
        "Dracula",
        "Forset Gump",
        "Cligula",
        "Winnie the Pooh",
        "Obama",
        "Henry the 8th",
        "Steven Taylor",
        "Batman"];

    var followeesList = ["Dracula",
        "Henry the 8th"];

    var followStateList = {"unfollow": "unfollow-state", "follow": "follow-state"};

    function userCellBuilder(username, image, buttonState) {
        var divUserCell = document.createElement("DIV");
        divUserCell.setAttribute("class", "col-sm-2 user-cell");
        var divThumbnail = document.createElement("DIV");
        divThumbnail.setAttribute("class", "thumbnail");
        divUserCell.appendChild(divThumbnail);
        var imgUserAvatar = document.createElement("IMG");
        imgUserAvatar.setAttribute("src", image);
        imgUserAvatar.setAttribute("class", "useravatar");
        divThumbnail.appendChild(imgUserAvatar);
        var divCaptionTextCenter = document.createElement("DIV");
        divCaptionTextCenter.setAttribute("class", "caption text-center");
        divThumbnail.appendChild(divCaptionTextCenter);
        var followButton = document.createElement("BUTTON");
        followButton.setAttribute("class", followStateList[buttonState]);
        followButton.innerHTML = buttonState;
        divCaptionTextCenter.appendChild(followButton);
        var paragraphUsernameCell = document.createElement("P");
        paragraphUsernameCell.innerHTML = username;
        divCaptionTextCenter.appendChild(paragraphUsernameCell);
        return divUserCell;
    }

    function followeeCellBuilder(username, image) {
        var divUserCell = document.createElement("DIV");
        divUserCell.setAttribute("class", "col-sm-12 followee-cell");
        var divThumbnail = document.createElement("DIV");
        divThumbnail.setAttribute("class", "thumbnail");
        divUserCell.appendChild(divThumbnail);
        var imgUserAvatar = document.createElement("IMG");
        imgUserAvatar.setAttribute("src", image);
        imgUserAvatar.setAttribute("class", "useravatar");
        divThumbnail.appendChild(imgUserAvatar);
        var divCaptionTextCenter = document.createElement("DIV");
        divCaptionTextCenter.setAttribute("class", "caption text-center");
        divThumbnail.appendChild(divCaptionTextCenter);
        var followButton = document.createElement("BUTTON");
        followButton.setAttribute("class", "ufollow-state");
        followButton.innerHTML = "unfollow";
        divCaptionTextCenter.appendChild(followButton);
        var paragraphUsernameCell = document.createElement("P");
        paragraphUsernameCell.innerHTML = username;
        divCaptionTextCenter.appendChild(paragraphUsernameCell);
        return divUserCell;
    }

    function loadUsersList() {
        var userCells = document.getElementById("user-cells");
        var followersCells = document.getElementsByClassName("followees-list");
        usersList.forEach(function (user) {
            if (followeesList.includes(user)) {
                var userCell = userCellBuilder(user, "images/useravatar.jpg", "unfollow");
                var followeeCell = followeeCellBuilder(user, "images/useravatar.jpg");
                userCells.appendChild(userCell);
                followersCells.appendChild(followeeCell);
            }
            else
                userCell = userCellBuilder(user, "images/useravatar.jpg", followStateList["follow"]);
        });
    }


    loadUsersList();

    /*console.log(usersList);*/

    /*usersList.forEach(function (element) {
        if (followeesList.includes(element))
            console.log(element);
    });*/
</script>
</body>
</html>